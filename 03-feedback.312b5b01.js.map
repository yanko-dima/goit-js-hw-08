{"version":3,"sources":["js/03-feedback.js"],"names":["STORAGE_KEY","formData","refs","form","document","querySelector","email","textarea","onFormSubmit","evt","preventDefault","currentTarget","reset","localStorage","removeItem","console","log","onFormTextInput","target","name","value","setItem","JSON","stringify","populateTextarea","saveInputStorage","getItem","parse","Object","entries","forEach","elements","addEventListener"],"mappings":";AAEA,MAAMA,EAAc,sBACpB,IAAIC,EAAW,GACf,MAAMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAQrC,SAASG,EAAaC,GAClBA,EAAIC,iBAEJD,EAAIE,cAAcC,QAClBC,aAAaC,WAAWd,GAExBe,QAAQC,IAAIf,GAGhB,SAASgB,EAAgBR,GACrBR,EAASQ,EAAIS,OAAOC,MAAQV,EAAIS,OAAOE,MAEvCP,aAAaQ,QAAQrB,EAAasB,KAAKC,UAAUtB,IAGrD,SAASuB,IACDC,IAAAA,EAAmBZ,aAAaa,QAAQ1B,GAIzCyB,IACCA,EAAmBH,KAAKK,MAAMF,GAC9BG,OAAOC,QAAQJ,GAAkBK,QAAQ,EAAEX,EAAMC,MAC7ClB,EAAKC,KAAK4B,SAASZ,GAAMC,MAAQA,KA5B7ClB,EAAKC,KAAK6B,iBAAiB,SAAUxB,GACrCN,EAAKC,KAAK6B,iBAAiB,QAASf,GAEpCO","file":"03-feedback.312b5b01.js","sourceRoot":"../src","sourcesContent":["// import throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nlet formData = {};\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    email: document.querySelector('.feedback-form input'),\n    textarea: document.querySelector('.feedback-form textarea'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', onFormTextInput);\n\npopulateTextarea();\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n\n    evt.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n\n    console.log(formData);\n};\n\nfunction onFormTextInput(evt) {\n    formData[evt.target.name] = evt.target.value;\n\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n};\n\nfunction populateTextarea() {\n    let saveInputStorage = localStorage.getItem(STORAGE_KEY);\n    // const email = JSON.parse(saveInputStorage).email;\n    // const message = JSON.parse(saveInputStorage).message;\n\n    if(saveInputStorage) {\n        saveInputStorage = JSON.parse(saveInputStorage);\n        Object.entries(saveInputStorage).forEach(([name, value]) => {\n            refs.form.elements[name].value = value;\n        });\n    };\n};\n"]}